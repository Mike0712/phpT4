Так как у меня уже был проект на T4. Собственно он и будет подопытным. Это проект финальная домашка по курсу PHP2 полуторагодовой давности.
https://github.com/Mike0712/phpT4.git
В самом проекте ничего менять не будем, за исключением конфига, куда добавим значение domain и токен {{domain}}, так как нам это понадобится для выполнения задания.

Итак, устанавливаем phing. Просто скаичиваем файл phing.phar сюда же в нашу же текущую директорию build.
Находясь в корне проекта вызывать phing будем командой:
```
php build/phing.phar -f build/production/build.xml

```

Дефолтной целью проекта указываем build. Таргет build сам по себе ничего выполнять не будет, в нем просто будут поочередно вызываться другие цели.
Вообще отмечу что несколько перестраховался добавив таргет build, плюс остальные таргеты также выполняются по цепочки, пследующий зависит от предыдущего. В общем паранойя.
Ну а в целом все вроде бы работает:
- проект копируется в директорию php3, которая расположена на уровень выше корня проекта (tmp.dir).
- проект копируется не в корень директории php3 а в отдельную директорию с имененем соответствующую времени в формате "Ymd_his".
- при копировании не копируются файлы директории build проекта (т.е. собственно конфиг для деплоя phing), так как это служебная директория, а также директория .idea, где содержится информация нужная для работы ide, что совершенно лишнее на сервере.
Так же не копируется файл конфига protected.php, так как копируется он персонально в следующем шаге.
- далее копируется файл protected/config.php и в нем заменяется строчка {{domain}}. Несмотря на то, что данный файл не копировался, я добавил ему свойство overwrite=true. Навредить это не должно.
- ну и последним этапом создается симлинк, который создается только после успешной работы композера.